<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FunLessons â€“ Flashcards GitHub Final</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<style>
/* --- ESTILOS VISUALES (Originales [cite: 2-25]) --- */
:root {
    --primary: #ff7043;
    --secondary: #ffca28;
    --accent: #26a69a;
    --bg-gradient: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
}

body {
    margin: 0;
    font-family: "Segoe UI", Tahoma, sans-serif;
    background: var(--bg-gradient);
    min-height: 100vh;
    padding: 15px;
    user-select: none;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.app {
    width: 100%;
    max-width: 600px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 25px;
    box-shadow: 0 10px 30px rgba(255, 112, 67, 0.3);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

header {
    background: var(--primary);
    color: #fff;
    padding: 15px;
    text-align: center;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}
.logo { font-size: 1.8rem; font-weight: 900; letter-spacing: 1px; margin: 0; }

.controls-top {
    padding: 15px;
    background: #fff;
    border-bottom: 2px solid #eee;
    display: flex;
    flex-direction: column;
    gap: 10px;
    align-items: center;
}

/* Panel de selecciÃ³n mÃºltiple personalizado */
#multiSelectContainer {
    display: none;
    background: #f0f2f1;
    padding: 15px;
    border-radius: 15px;
    margin: 10px;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    border: 2px solid var(--accent);
}

.check-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.9rem;
    cursor: pointer;
    color: #444;
}

select {
    padding: 10px 20px;
    border-radius: 25px;
    border: 2px solid var(--accent);
    font-size: 1rem;
    font-weight: bold;
    color: var(--accent);
    outline: none;
    cursor: pointer;
    background: #e0f2f1;
}

.scene {
    width: 100%;
    height: 350px;
    perspective: 1000px;
    margin: 20px 0;
    display: flex;
    justify-content: center;
    align-items: center;
}

.card {
    width: 280px;
    height: 320px;
    position: relative;
    transition: transform 0.6s;
    transform-style: preserve-3d;
    cursor: pointer;
}

.card.is-flipped { transform: rotateY(180deg); }

.card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    border: 4px solid #fff;
    padding: 10px;
    box-sizing: border-box;
}

.card-face.front { background: #fff; border-color: var(--secondary); }
.card-face.back { background: var(--accent); color: white; transform: rotateY(180deg); border-color: var(--accent); }

.emoji-img { 
    width: 100%;
    height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 8rem; 
    line-height: 1;
}

.emoji-img img {
    max-width: 90%;
    max-height: 90%;
    object-fit: contain;
    filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1));
}

.word-text { font-size: 2rem; font-weight: bold; text-transform: uppercase; margin-bottom: 10px; text-align: center; }
.tap-hint { font-size: 0.9rem; color: #aaa; margin-top: 10px; opacity: 0.7; }
.tap-hint.white { color: rgba(255,255,255,0.8); }

.nav-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 30px;
    background: #f9f9f9;
}

.nav-btn {
    background: white;
    border: 2px solid var(--primary);
    color: var(--primary);
    width: 50px; height: 50px;
    border-radius: 50%;
    font-size: 1.5rem;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
}

.nav-btn:disabled { border-color: #ccc; color: #ccc; }
.counter { font-size: 1.1rem; font-weight: bold; color: #777; background: #eee; padding: 5px 15px; border-radius: 15px; }

.sound-btn-small {
    background: rgba(255,255,255,0.2);
    border: 2px solid #fff;
    color: #fff;
    border-radius: 50%;
    width: 45px; height: 45px;
    cursor: pointer;
    font-size: 1.2rem;
}
</style>
</head>
<body>

<div class="app">
    <header><div class="logo">âš¡ Flashcards 4 <span>ğŸ‡¬ğŸ‡§</span></div></header>

    <div class="controls-top">
        <div style="display:flex; align-items:center; gap:10px;">
            <label style="font-weight:bold; color:#666;">Topic:</label>
            <select id="categorySelect" onchange="toggleMultiSelect()">
                <option value="ALL">ğŸŒŸ All Topics</option>
                <option value="MIX_TOPICS">ğŸŒªï¸ Mix Topics</option>
                <option value="CALENDAR">ğŸ“… Calendar</option>
                <option value="NUMBERS">ğŸ”¢ Numbers</option>
                <option value="SPORTS">âš½ Sports</option>
                <option value="TV">ğŸ“º TV</option>
                <option value="JOBS">ğŸ‘¨â€ğŸ’¼ Jobs</option>
                <option value="SHOPS">ğŸ›ï¸ Shops</option>
                <option value="APPEARANCE">ğŸ§‘ Appearance</option>
                <option value="PLACES">ğŸ“ Places</option>
            </select>
        </div>

        <div id="multiSelectContainer">
            <label class="check-item"><input type="checkbox" value="CALENDAR">ğŸ“… Calendar</label>
            <label class="check-item"><input type="checkbox" value="NUMBERS">ğŸ”¢ Numbers</label>
            <label class="check-item"><input type="checkbox" value="SPORTS">âš½ Sports</label>
            <label class="check-item"><input type="checkbox" value="TV">ğŸ“º TV</label>
            <label class="check-item"><input type="checkbox" value="JOBS">ğŸ‘¨â€ğŸ’¼ Jobs</label>
            <label class="check-item"><input type="checkbox" value="SHOPS">ğŸ›ï¸ Shops</label>
            <label class="check-item"><input type="checkbox" value="APPEARANCE">ğŸ§‘ Appearance</label>
            <label class="check-item"><input type="checkbox" value="PLACES">ğŸ“ Places</label>
            <button onclick="applyAndClose()" style="grid-column: span 2; background: var(--accent); color: white; border: none; padding: 10px; border-radius: 15px; font-weight: bold; cursor: pointer;">Apply Mix</button>
        </div>
    </div>

    <div class="scene">
        <div class="card" id="flashcard" onclick="flipCard()">
            <div class="card-face front">
                <div class="emoji-img" id="cardImg">â“</div>
                <div class="tap-hint">ğŸ‘† Tap to flip</div>
            </div>
            <div class="card-face back">
                <div class="word-text" id="cardWord">WORD</div>
                <button class="sound-btn-small" onclick="event.stopPropagation(); playCurrentAudio()">ğŸ”Š</button>
                <div class="tap-hint white">ğŸ‘† Tap to flip back</div>
            </div>
        </div>
    </div>

    <div class="nav-controls">
        <button class="nav-btn" id="prevBtn" onclick="prevCard()">â¬…ï¸</button>
        <div class="counter" id="counterDisplay">1 / 10</div>
        <button class="nav-btn" id="nextBtn" onclick="nextCard()">â¡ï¸</button>
    </div>
</div>

<script>
const vocab = [
    /* CALENDAR (23 items) [cite: 30] */
    {en:"JANUARY", img:"january.png", isImage:true, cat:"CALENDAR"}, {en:"FEBRUARY", img:"february.png", isImage:true, cat:"CALENDAR"},
    {en:"MARCH", img:"march.png", isImage:true, cat:"CALENDAR"}, {en:"APRIL", img:"april.png", isImage:true, cat:"CALENDAR"},
    {en:"MAY", img:"may.png", isImage:true, cat:"CALENDAR"}, {en:"JUNE", img:"june.png", isImage:true, cat:"CALENDAR"},
    {en:"JULY", img:"july.png", isImage:true, cat:"CALENDAR"}, {en:"AUGUST", img:"august.png", isImage:true, cat:"CALENDAR"},
    {en:"SEPTEMBER", img:"september.png", isImage:true, cat:"CALENDAR"}, {en:"OCTOBER", img:"october.png", isImage:true, cat:"CALENDAR"},
    {en:"NOVEMBER", img:"november.png", isImage:true, cat:"CALENDAR"}, {en:"DECEMBER", img:"december.png", isImage:true, cat:"CALENDAR"},
    {en:"MONDAY", img:"monday.png", isImage:true, cat:"CALENDAR"}, {en:"TUESDAY", img:"tuesday.png", isImage:true, cat:"CALENDAR"},
    {en:"WEDNESDAY", img:"wednesday.png", isImage:true, cat:"CALENDAR"}, {en:"THURSDAY", img:"thursday.png", isImage:true, cat:"CALENDAR"},
    {en:"FRIDAY", img:"friday.png", isImage:true, cat:"CALENDAR"}, {en:"SATURDAY", img:"saturday.png", isImage:true, cat:"CALENDAR"},
    {en:"SUNDAY", img:"sunday.png", isImage:true, cat:"CALENDAR"}, {en:"SPRING", img:"spring.png", isImage:true, cat:"CALENDAR"},
    {en:"SUMMER", img:"summer.png", isImage:true, cat:"CALENDAR"}, {en:"AUTUMN", img:"autumn.png", isImage:true, cat:"CALENDAR"},
    {en:"WINTER", img:"winter.png", isImage:true, cat:"CALENDAR"},

    /* NUMBERS (26 items) [cite: 33] */
    {en:"ONE", img:"1ï¸âƒ£", cat:"NUMBERS"}, {en:"TWO", img:"2ï¸âƒ£", cat:"NUMBERS"}, {en:"THREE", img:"3ï¸âƒ£", cat:"NUMBERS"},
    {en:"FOUR", img:"4ï¸âƒ£", cat:"NUMBERS"}, {en:"FIVE", img:"5ï¸âƒ£", cat:"NUMBERS"}, {en:"SIX", img:"6ï¸âƒ£", cat:"NUMBERS"},
    {en:"SEVEN", img:"7ï¸âƒ£", cat:"NUMBERS"}, {en:"EIGHT", img:"8ï¸âƒ£", cat:"NUMBERS"}, {en:"NINE", img:"9ï¸âƒ£", cat:"NUMBERS"},
    {en:"TEN", img:"ğŸ”Ÿ", cat:"NUMBERS"}, {en:"TWELVE", img:"1ï¸âƒ£2ï¸âƒ£", cat:"NUMBERS"}, {en:"THIRTEEN", img:"1ï¸âƒ£3ï¸âƒ£", cat:"NUMBERS"},
    {en:"FOURTEEN", img:"1ï¸âƒ£4ï¸âƒ£", cat:"NUMBERS"}, {en:"FIFTEEN", img:"1ï¸âƒ£5ï¸âƒ£", cat:"NUMBERS"}, {en:"SIXTEEN", img:"1ï¸âƒ£6ï¸âƒ£", cat:"NUMBERS"},
    {en:"EIGHTEEN", img:"1ï¸âƒ£8ï¸âƒ£", cat:"NUMBERS"}, {en:"NINETEEN", img:"1ï¸âƒ£9ï¸âƒ£", cat:"NUMBERS"}, {en:"TWENTY", img:"2ï¸âƒ£0ï¸âƒ£", cat:"NUMBERS"},
    {en:"THIRTY", img:"3ï¸âƒ£0ï¸âƒ£", cat:"NUMBERS"}, {en:"FORTY", img:"4ï¸âƒ£0ï¸âƒ£", cat:"NUMBERS"}, {en:"FIFTY", img:"5ï¸âƒ£0ï¸âƒ£", cat:"NUMBERS"},
    {en:"SIXTY", img:"6ï¸âƒ£0ï¸âƒ£", cat:"NUMBERS"}, {en:"SEVENTY", img:"7ï¸âƒ£0ï¸âƒ£", cat:"NUMBERS"}, {en:"EIGHTY", img:"8ï¸âƒ£0ï¸âƒ£", cat:"NUMBERS"},
    {en:"NINETY", img:"9ï¸âƒ£0ï¸âƒ£", cat:"NUMBERS"}, {en:"ONE HUNDRED", img:"ğŸ’¯", cat:"NUMBERS"},

    /* SPORTS (8 items) [cite: 32] */
    {en:"BASKETBALL", img:"ğŸ€", cat:"SPORTS"}, {en:"FOOTBALL", img:"âš½", cat:"SPORTS"}, {en:"GYMNASTICS", img:"ğŸ¤¸", cat:"SPORTS"},
    {en:"RUNNING", img:"ğŸƒ", cat:"SPORTS"}, {en:"SKATEBOARDING", img:"ğŸ›¹", cat:"SPORTS"}, {en:"SWIMMING", img:"ğŸŠ", cat:"SPORTS"},
    {en:"TABLE TENNIS", img:"ğŸ“", cat:"SPORTS"}, {en:"YOGA", img:"ğŸ§˜", cat:"SPORTS"},

    /* TV (8 items) */
    {en:"CARTOON", img:"cartoon.png", isImage:true, cat:"TV"}, {en:"COOKERY PROGRAMME", img:"cookery programme.png", isImage:true, cat:"TV"},
    {en:"DOCUMENTARY", img:"documentary.png", isImage:true, cat:"TV"}, {en:"FILM", img:"film.png", isImage:true, cat:"TV"},
    {en:"MUSIC PROGRAMME", img:"music programme.png", isImage:true, cat:"TV"}, {en:"QUIZ SHOW", img:"quiz show.png", isImage:true, cat:"TV"},
    {en:"TALENT SHOW", img:"talent show.png", isImage:true, cat:"TV"}, {en:"THE NEWS", img:"the news.png", isImage:true, cat:"TV"},

    /* JOBS (13 items) [cite: 31] */
    {en:"ARCHITECT", img:"architect.png", isImage:true, cat:"JOBS"}, {en:"BUILDER", img:"ğŸ‘·", cat:"JOBS"},
    {en:"FARMER", img:"ğŸ‘¨â€ğŸŒ¾", cat:"JOBS"}, {en:"FIREFIGHTER", img:"ğŸ‘¨â€ğŸš’", cat:"JOBS"},
    {en:"NURSE", img:"nurse.png", isImage:true, cat:"JOBS"}, {en:"PILOT", img:"ğŸ‘©â€âœˆï¸", cat:"JOBS"},
    {en:"SINGER", img:"singer.png", isImage:true, cat:"JOBS"}, {en:"VET", img:"vet.png", isImage:true, cat:"JOBS"},
    {en:"TEACHER", img:"ğŸ‘©â€ğŸ«", cat:"JOBS"}, {en:"DOCTOR", img:"ğŸ‘©â€âš•ï¸", cat:"JOBS"},
    {en:"TAXI DRIVER", img:"taxi driver.png", isImage:true, cat:"JOBS"}, {en:"TENNIS PLAYER", img:"tennis player.png", isImage:true, cat:"JOBS"},
    {en:"DANCER", img:"dancer.png", isImage:true, cat:"JOBS"},

    /* SHOPS (13 items) */
    {en:"BAKERS", img:"bakers.png", isImage:true, cat:"SHOPS"}, {en:"BOOKSHOP", img:"bookshop.png", isImage:true, cat:"SHOPS"},
    {en:"CAFÃ‰", img:"cafe.png", isImage:true, cat:"SHOPS"}, {en:"CLOTHES SHOP", img:"clothes shop.png", isImage:true, cat:"SHOPS"},
    {en:"DEPARTMENT STORE", img:"department store.png", isImage:true, cat:"SHOPS"}, {en:"GREENGROCERS", img:"greengrocers.png", isImage:true, cat:"SHOPS"},
    {en:"NEWSAGENTS", img:"newsagents.png", isImage:true, cat:"SHOPS"}, {en:"SUPERMARKET", img:"supermarket.png", isImage:true, cat:"SHOPS"},
    {en:"TOY SHOP", img:"toy shop.png", isImage:true, cat:"SHOPS"}, {en:"SHOE SHOP", img:"shoe shop.png", isImage:true, cat:"SHOPS"},
    {en:"EURO", img:"ğŸ’¶", cat:"SHOPS"}, {en:"POUND", img:"ğŸ’·", cat:"SHOPS"}, {en:"DOLLAR", img:"ğŸ’µ", cat:"SHOPS"},

    /* APPEARANCE (18 items) */
    {en:"BEARD", img:"beard.png", isImage:true, cat:"APPEARANCE"}, {en:"CURLY HAIR", img:"curly hair.png", isImage:true, cat:"APPEARANCE"},
    {en:"DARK HAIR", img:"dark hair.png", isImage:true, cat:"APPEARANCE"}, {en:"FAIR HAIR", img:"fair hair.png", isImage:true, cat:"APPEARANCE"},
    {en:"FRECKLES", img:"freckles.png", isImage:true, cat:"APPEARANCE"}, {en:"GLASSES", img:"glasses.png", isImage:true, cat:"APPEARANCE"},
    {en:"MOUSTACHE", img:"moustache.png", isImage:true, cat:"APPEARANCE"}, {en:"STRAIGHT HAIR", img:"straight hair.png", isImage:true, cat:"APPEARANCE"},
    {en:"TALL", img:"tall.png", isImage:true, cat:"APPEARANCE"}, {en:"SHORT", img:"short.png", isImage:true, cat:"APPEARANCE"},
    {en:"OLD", img:"old.png", isImage:true, cat:"APPEARANCE"}, {en:"YOUNG", img:"young.png", isImage:true, cat:"APPEARANCE"},
    {en:"THIN", img:"thin.png", isImage:true, cat:"APPEARANCE"}, {en:"FAT", img:"fat.png", isImage:true, cat:"APPEARANCE"},
    {en:"WOMAN", img:"woman.png", isImage:true, cat:"APPEARANCE"}, {en:"MAN", img:"man.png", isImage:true, cat:"APPEARANCE"},
    {en:"BOY", img:"boy.png", isImage:true, cat:"APPEARANCE"}, {en:"GIRL", img:"girl.png", isImage:true, cat:"APPEARANCE"},

    /* PLACES (23 items) */
    {en:"AQUARIUM", img:"ğŸŸ", cat:"PLACES"}, {en:"ART GALLERY", img:"ğŸ–¼ï¸", cat:"PLACES"}, {en:"CASTLE", img:"ğŸ°", cat:"PLACES"},
    {en:"CITY FARM", img:"ğŸšœ", cat:"PLACES"}, {en:"FUNFAIR", img:"ğŸ¡", cat:"PLACES"}, {en:"STADIUM", img:"ğŸŸï¸", cat:"PLACES"},
    {en:"THEATRE", img:"ğŸ­", cat:"PLACES"}, {en:"WATER PARK", img:"ğŸŒŠ", cat:"PLACES"}, {en:"CINEMA", img:"ğŸ¬", cat:"PLACES"},
    {en:"FIRE STATION", img:"ğŸš’", cat:"PLACES"}, {en:"MUSEUM", img:"ğŸ›ï¸", cat:"PLACES"}, {en:"HOSPITAL", img:"ğŸ¥", cat:"PLACES"},
    {en:"POST OFFICE", img:"ğŸ“®", cat:"PLACES"}, {en:"SHOPPING CENTRE", img:"ğŸ›ï¸", cat:"PLACES"}, {en:"SWIMMING POOL", img:"ğŸŠ", cat:"PLACES"},
    {en:"TRAIN STATION", img:"ğŸš‰", cat:"PLACES"}, {en:"ZOO", img:"ğŸ¦", cat:"PLACES"}, {en:"SCHOOL", img:"ğŸ«", cat:"PLACES"},
    {en:"SUPERMARKET", img:"ğŸ›’", cat:"PLACES"}, {en:"HOTEL", img:"ğŸ¨", cat:"PLACES"}, {en:"BEACH", img:"ğŸ–ï¸", cat:"PLACES"},
    {en:"PARK", img:"ğŸŒ³", cat:"PLACES"}, {en:"LIBRARY", img:"ğŸ“š", cat:"PLACES"}
];

let currentList = [], currentIndex = 0, isFlipped = false;
const ui = {
    card: document.getElementById("flashcard"),
    img: document.getElementById("cardImg"),
    word: document.getElementById("cardWord"),
    counter: document.getElementById("counterDisplay"),
    prevBtn: document.getElementById("prevBtn"),
    nextBtn: document.getElementById("nextBtn"),
    multiPanel: document.getElementById("multiSelectContainer")
};

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function toggleMultiSelect() {
    const cat = document.getElementById("categorySelect").value;
    ui.multiPanel.style.display = (cat === "MIX_TOPICS") ? "grid" : "none";
    if (cat !== "MIX_TOPICS") changeCategory();
}

function applyAndClose() {
    changeCategory();
    ui.multiPanel.style.display = "none";
}

function changeCategory() {
    const cat = document.getElementById("categorySelect").value;
    let tempList = [];

    if (cat === "ALL") {
        tempList = [...vocab];
    } else if (cat === "MIX_TOPICS") {
        const checkedValues = Array.from(ui.multiPanel.querySelectorAll('input:checked')).map(cb => cb.value);
        tempList = vocab.filter(item => checkedValues.includes(item.cat));
    } else {
        tempList = vocab.filter(item => item.cat === cat);
    }

    if (tempList.length === 0) return;
    currentList = shuffleArray(tempList);
    currentIndex = 0;
    resetCardFace();
    updateUI();
}

function updateUI() {
    if(currentList.length === 0) return;
    const item = currentList[currentIndex];
    if (item.isImage) {
        ui.img.innerHTML = `<img src="${item.img}" alt="${item.en}">`;
    } else {
        ui.img.innerHTML = item.img;
    }
    ui.word.textContent = item.en;
    ui.counter.textContent = `${currentIndex + 1} / ${currentList.length}`;
    ui.prevBtn.disabled = (currentIndex === 0);
    ui.nextBtn.disabled = (currentIndex === currentList.length - 1);
}

function flipCard() {
    isFlipped = !isFlipped;
    ui.card.classList.toggle("is-flipped", isFlipped);
    if(isFlipped) setTimeout(playCurrentAudio, 200);
}

function resetCardFace() { isFlipped = false; ui.card.classList.remove("is-flipped"); }
function nextCard() { if(currentIndex < currentList.length - 1) { currentIndex++; resetCardFace(); setTimeout(updateUI, 150); } }
function prevCard() { if(currentIndex > 0) { currentIndex--; resetCardFace(); setTimeout(updateUI, 150); } }

function playCurrentAudio() {
    window.speechSynthesis.cancel();
    const utterance = new SpeechSynthesisUtterance(currentList[currentIndex].en);
    utterance.lang = "en-GB"; utterance.rate = 0.9;
    window.speechSynthesis.speak(utterance);
}

changeCategory();
</script>
</body>
</html>